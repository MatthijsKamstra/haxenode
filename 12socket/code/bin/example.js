// Generated by Haxe 3.4.2
if (process.version < "v4.0.0") console.warn("Module " + (typeof(module) == "undefined" ? "" : module.filename) + " requires node.js version 4.0.0 or higher");
(function () { "use strict";
var Main = function() {
	this.PORT = 3700;
	console.log("Express website (Basic): open browser at http://localhost:" + this.PORT);
	console.log("Stop node.js : CTRL + c");
	var app = new js_npm_Express();
	var server = js_node_Http.createServer(app);
	var io = new js_npm_socketio_Server(server);
	app.set("views",__dirname + "/public/views");
	app.set("view engine","jade");
	app["use"](new js_npm_express_Static(__dirname + "/public"));
	app["use"](new js_npm_express_Morgan("dev"));
	app["use"](new js_npm_express_Favicon(__dirname + "/public/favicon.ico"));
	app.get("/",function(req,res) {
		var liveReload = "";
		res.render("page",{ livereload : liveReload});
	});
	io.on("connection",function(socket) {
		socket.emit("message",{ message : "welcome to the chat"});
		socket.on("send",function(data) {
			io.sockets.emit("message",data);
		});
	});
	console.log("Listening on port " + this.PORT);
	server.listen(this.PORT);
};
Main.main = function() {
	var main = new Main();
};
var haxe_io_Bytes = function() { };
var js_node_Http = require("http");
var js_node_buffer_Buffer = require("buffer").Buffer;
var js_npm_Express = require("express");
var js_npm_express_Favicon = require("serve-favicon");
var js_npm_express_Morgan = require("morgan");
var js_npm_express_Static = require("express").static;
var js_npm_socketio_Server = require("socket.io");
Main.main();
})();
