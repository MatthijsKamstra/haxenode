// Generated by Haxe 4.1.4
(function ($global) { "use strict";
var CookieParser = require("cookie-parser");
var Express = require("express");
class Main04 {
	constructor() {
		let app = Express();
		let port = 3000;
		console.log("src/Main04.hx:20:","Express website (04):  open browser at http://localhost:" + port);
		console.log("src/Main04.hx:21:","Stop node.js : CTRL + c");
		app.set("views",js_node_Path.join(__dirname,"public","views"));
		app.set("view engine","pug");
		app.use(Morgan("dev"));
		app.use(Express.json());
		app.use(Express.urlencoded({ extended : false}));
		let tmp = CookieParser();
		app.use(tmp);
		let tmp1 = Express.static;
		let tmp2 = js_node_Path.join(__dirname,"public");
		app.use(tmp1(tmp2));
		let router = express_Router();
		routes_Index.init(router);
		let server = app.listen(port,function() {
			console.log("src/Main04.hx:77:","Example app listening at http://localhost:" + port);
		});
	}
	static main() {
		let main = new Main04();
	}
}
var Morgan = require("morgan");
var express_Router = require("express").Router;
class haxe_iterators_ArrayIterator {
	constructor(array) {
		this.current = 0;
		this.array = array;
	}
	hasNext() {
		return this.current < this.array.length;
	}
	next() {
		return this.array[this.current++];
	}
}
var js_node_Path = require("path");
class routes_Index {
	static init(app) {
		app.get("/",function(req,res,next) {
			res.render("index",{ title : "Express"});
			return null;
		});
	}
}
Main04.main();
})({});
