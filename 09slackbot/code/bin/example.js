// Generated by Haxe 3.4.2
if (process.version < "v4.0.0") console.warn("Module " + (typeof(module) == "undefined" ? "" : module.filename) + " requires node.js version 4.0.0 or higher");
(function () { "use strict";
var Main = function() {
	console.log("Slack Incoming Webhooks Example");
	var webhookURL = "https://hooks.slack.com/services/USE/YOUR/CODE/HERE";
	var slack1 = new slack_Webhook(webhookURL);
	var payload = { text : "another test", icon_emoji : ":8ball:", username : "3cpo"};
	slack1.send(payload);
};
Main.main = function() {
	var main = new Main();
};
var haxe_io_Bytes = function() { };
var js_node_buffer_Buffer = require("buffer").Buffer;
var slack_Webhook = function(url) {
	this._url = url;
};
slack_Webhook.prototype = {
	send: function(payload) {
		var request = require("request");
		var option = { url : this._url, body : JSON.stringify(payload)};
		request.post(option,function(error,response,body) {
			if(!error) {
				console.log("body: " + body);
			} else {
				console.log("Weâ€™ve encountered an error: " + (error == null ? "null" : "" + error));
			}
		});
	}
};
Main.main();
})();
